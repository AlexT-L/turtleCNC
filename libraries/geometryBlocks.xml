<blocks app="TurtleStitch 2.5, http://www.turtlestitch.org" version="1"><block-definition s="for each %&apos;item&apos; of %&apos;data&apos; %&apos;action&apos;" type="command" category="lists"><header></header><code></code><translations>zh_CN:对每个项目 _ 来自列表 _ 执行 _&#xD;</translations><inputs><input type="%upvar"></input><input type="%l"></input><input type="%cs"></input></inputs><script><block s="doUntil"><custom-block s="empty? %l"><block var="data"/></custom-block><script><block s="doSetVar"><l>item</l><block s="reportListItem"><l>1</l><block var="data"/></block></block><block s="doRun"><block var="action"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><block s="doSetVar"><l>data</l><block s="reportCDR"><block var="data"/></block></block></script></block></script></block-definition><block-definition s="link points %&apos;points&apos; style %&apos;style&apos; by %&apos;stepLen&apos; stitchToFirst %&apos;stitchToFirst&apos; backToFirst %&apos;backToFirst&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:连接点集 _ 方式 _ 步长 _ 连接到第一点 _ 回到第一点 _&#xD;</translations><inputs><input type="%l"></input><input type="%cmdRing"></input><input type="%n">10</input><input type="%b">false</input><input type="%b">false</input></inputs><script><block s="doIf"><custom-block s="Is %cmdRing empty?"><block var="style"/></custom-block><script><block s="doSetVar"><l>style</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></block></script></block><block s="doIfElse"><block var="stitchToFirst"/><script><block s="down"></block><custom-block s="go to %l style %cmdRing by %n"><block s="reportListItem"><l>1</l><block var="points"/></block><block var="style"/><block var="stepLen"/></custom-block></script><script><block s="up"></block><block s="doGotoObject"><block s="reportListItem"><l>1</l><block var="points"/></block></block><block s="down"></block></script></block><custom-block s="for each %upvar of %l %cs"><l>item</l><block s="reportCDR"><block var="points"/></block><script><custom-block s="go to %l style %cmdRing by %n"><block var="item"/><block var="style"/><block var="stepLen"/></custom-block></script></custom-block><block s="doIf"><block var="backToFirst"/><script><block s="doGotoObject"><block s="reportListItem"><l>1</l><block var="points"/></block></block></script></block></script></block-definition><block-definition s="empty? %&apos;data&apos;" type="predicate" category="lists"><header></header><code></code><translations>zh_CN:列表 _ 为空？&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="circle centre %&apos;centre&apos; diam %&apos;diam&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:圆形 圆心 _ 直径 _&#xD;</translations><inputs><input type="%l"></input><input type="%n">20</input></inputs><script><block s="up"></block><block s="doGotoObject"><block var="centre"/></block><block s="turn"><l>180</l></block><block s="forward"><block s="reportQuotient"><block var="diam"/><l>2</l></block></block><block s="turn"><l>180</l></block><block s="down"></block><custom-block s="arc %n angle %n sectionCounts %n direction %txt style %cmdRing"><block var="diam"/><l>180</l><block s="reportRound"><block s="reportQuotient"><block var="diam"/><l>3</l></block></block><l>clockwise</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></custom-block><block s="turn"><l>180</l></block><custom-block s="arc %n angle %n sectionCounts %n direction %txt style %cmdRing"><block var="diam"/><l>180</l><block s="reportRound"><block s="reportQuotient"><block var="diam"/><l>3</l></block></block><l>clockwise</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></custom-block><block s="up"></block><block s="turn"><l>180</l></block><block s="forward"><block s="reportQuotient"><block var="diam"/><l>2</l></block></block></script></block-definition><block-definition s="go to %&apos;dest&apos; style %&apos;styleScript&apos; by %&apos;stepLength&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:移到 _ 方式 _ 步长 _&#xD;</translations><inputs><input type="%l"></input><input type="%cmdRing">no&#xD;        <options>no&#xD;foldLine&#xD;randomFoldLine&#xD;curveLine</options></input><input type="%n">10</input></inputs><script><block s="doDeclareVariables"><list><l>distance</l></list></block><block s="doIf"><custom-block s="Is %cmdRing empty?"><block var="styleScript"/></custom-block><script><block s="doSetVar"><l>styleScript</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></block></script></block><block s="doSetVar"><l>distance</l><custom-block s="lineLength %l"><block var="dest"/></custom-block></block><block s="doFaceTowards"><block var="dest"/></block><block s="doUntil"><block s="reportLessThan"><block var="distance"/><block s="reportSum"><block var="stepLength"/><l>0.5</l></block></block><script><block s="doRun"><block var="styleScript"/><list><block var="stepLength"/></list></block><block s="doSetVar"><l>distance</l><custom-block s="lineLength %l"><block var="dest"/></custom-block></block></script></block><block s="doRun"><block var="styleScript"/><list><block var="distance"/></list></block></script></block-definition><block-definition s="fold line %&apos;distance&apos; steps range %&apos;range&apos; direction %&apos;direction&apos; style %&apos;styleScript&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:折线 _ 步 宽度 _ 方向 _ 方式 _&#xD;</translations><inputs><input type="%n">10</input><input type="%n">10</input><input type="%txt">left<options>left&#xD;right</options></input><input type="%cmdRing"></input></inputs><script><block s="doDeclareVariables"><list><l>angle</l><l>chord</l></list></block><block s="doIf"><custom-block s="Is %cmdRing empty?"><block var="styleScript"/></custom-block><script><block s="doSetVar"><l>styleScript</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></block></script></block><block s="doSetVar"><l>angle</l><block s="reportMonadic"><l><option>atan</option></l><block s="reportQuotient"><block var="range"/><block s="reportQuotient"><block var="distance"/><l>2</l></block></block></block></block><block s="doSetVar"><l>chord</l><block s="reportQuotient"><block var="range"/><block s="reportMonadic"><l><option>sin</option></l><block var="angle"/></block></block></block><block s="doIfElse"><block s="reportEquals"><block var="direction"/><l>left</l></block><script><block s="turnLeft"><block var="angle"/></block><block s="doRun"><block var="styleScript"/><list><block var="chord"/></list></block><block s="turn"><block s="reportProduct"><l>2</l><block var="angle"/></block></block><block s="doRun"><block var="styleScript"/><list><block var="chord"/></list></block><block s="turnLeft"><block var="angle"/></block></script><script><block s="turn"><block var="angle"/></block><block s="doRun"><block var="styleScript"/><list><block var="chord"/></list></block><block s="turnLeft"><block s="reportProduct"><l>2</l><block var="angle"/></block></block><block s="doRun"><block var="styleScript"/><list><block var="chord"/></list></block><block s="turn"><block var="angle"/></block></script></block></script></block-definition><block-definition s="arc %&apos;distance&apos; angle %&apos;angle&apos; sectionCounts %&apos;sections&apos; direction %&apos;direction&apos; style %&apos;styleScript&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:圆弧 _ 步 角度 _ 分段数 _ 方向 _ 方式 _&#xD;</translations><inputs><input type="%n">50</input><input type="%n">30</input><input type="%n">10</input><input type="%txt">clockwise<options>clockwise&#xD;anticlockwise</options></input><input type="%cmdRing"></input></inputs><script><block s="doDeclareVariables"><list><l>r</l><l>segLength</l><l>dir</l></list></block><block s="doIf"><custom-block s="Is %cmdRing empty?"><block var="styleScript"/></custom-block><script><block s="doSetVar"><l>styleScript</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></block></script></block><block s="doSetVar"><l>dir</l><block s="direction"></block></block><block s="doSetVar"><l>r</l><block s="reportQuotient"><block s="reportQuotient"><block var="distance"/><l>2</l></block><block s="reportMonadic"><l><option>sin</option></l><block s="reportQuotient"><block var="angle"/><l>2</l></block></block></block></block><block s="doSetVar"><l>segLength</l><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportProduct"><block s="reportProduct"><block s="reportProduct"><block var="r"/><block var="r"/></block><l>2</l></block><block s="reportDifference"><l>1</l><block s="reportMonadic"><l><option>cos</option></l><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block></block></block></block></block><block s="doIfElse"><block s="reportEquals"><block var="direction"/><l>clockwise</l></block><script><block s="turnLeft"><block s="reportQuotient"><block s="reportDifference"><block var="angle"/><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block><l>2</l></block></block><block s="doRepeat"><block var="sections"/><script><block s="doRun"><block var="styleScript"/><list><block var="segLength"/></list></block><block s="turn"><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block></script></block></script><script><block s="turn"><block s="reportQuotient"><block s="reportDifference"><block var="angle"/><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block><l>2</l></block></block><block s="doRepeat"><block var="sections"/><script><block s="doRun"><block var="styleScript"/><list><block var="segLength"/></list></block><block s="turnLeft"><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block></script></block></script></block><block s="setHeading"><block var="dir"/></block></script><scripts><script x="484.00000199999977" y="318.0000019999999"><block s="reportDifference"><l></l><l>1</l></block></script><script x="514.0000019999998" y="445.00000199999994"><block s="reportDifference"><l></l><l>1</l></block></script></scripts></block-definition><block-definition s="move %&apos;distance&apos; style %&apos;styleScript&apos; by %&apos;stepLength&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:移动 _ 步 方式 _ 步长 _&#xD;</translations><inputs><input type="%n">50</input><input type="%cmdRing"></input><input type="%n">10</input></inputs><script><block s="doDeclareVariables"><list><l>dist</l></list></block><block s="doIf"><custom-block s="Is %cmdRing empty?"><block var="styleScript"/></custom-block><script><block s="doSetVar"><l>styleScript</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></block></script></block><block s="doSetVar"><l>dist</l><block var="distance"/></block><block s="doUntil"><block s="reportLessThan"><block var="dist"/><block s="reportSum"><block var="stepLength"/><l>0.5</l></block></block><script><block s="doRun"><block var="styleScript"/><list><block var="stepLength"/></list></block><block s="doChangeVar"><l>dist</l><block s="reportProduct"><l>-1</l><block var="stepLength"/></block></block></script></block><block s="doIf"><block s="reportGreaterThan"><block var="dist"/><l>0</l></block><script><block s="doRun"><block var="styleScript"/><list><block var="dist"/></list></block></script></block></script></block-definition><block-definition s="reflectionAngle angle %&apos;angle&apos; line %&apos;line&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:入射角 _ 和线段 _ 的反射角&#xD;</translations><inputs><input type="%n">60</input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>lineAngle1</l><l>normalAngle</l><l>lineAngle2</l></list></block><block s="doSetVar"><l>lineAngle1</l><block s="reportDifference"><l>90</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>2</l><block var="line"/></block><block s="reportListItem"><l>1</l><block var="line"/></block></custom-block></block></block><block s="doSetVar"><l>lineAngle2</l><block s="reportDifference"><l>90</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>1</l><block var="line"/></block><block s="reportListItem"><l>2</l><block var="line"/></block></custom-block></block></block><block s="doReport"><block s="reportSum"><block var="lineAngle1"/><block s="reportDifference"><l>180</l><block s="reportDifference"><block var="angle"/><block var="lineAngle2"/></block></block></block></block></script></block-definition><block-definition s="calcAngle start %&apos;start&apos; end %&apos;end&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:倾斜角 起点 _ 终点 _&#xD;</translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>relativeX</l><l>relativeY</l><l>angle</l></list></block><block s="doSetVar"><l>relativeY</l><block s="reportDifference"><block s="reportListItem"><l>2</l><block var="end"/></block><block s="reportListItem"><l>2</l><block var="start"/></block></block></block><block s="doSetVar"><l>relativeX</l><block s="reportDifference"><block s="reportListItem"><l>1</l><block var="end"/></block><block s="reportListItem"><l>1</l><block var="start"/></block></block></block><block s="doIf"><block s="reportAnd"><block s="reportEquals"><block var="relativeX"/><l>0</l></block><block s="reportEquals"><block var="relativeY"/><l>0</l></block></block><script><block s="doReport"><l>90</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="relativeX"/><l>0</l></block><script><block s="doIfElse"><block s="reportGreaterThan"><block var="relativeY"/><l>0</l></block><script><block s="doReport"><l>90</l></block></script><script><block s="doReport"><l>270</l></block></script></block></script></block><block s="doSetVar"><l>angle</l><block s="reportMonadic"><l><option>atan</option></l><block s="reportQuotient"><block var="relativeY"/><block var="relativeX"/></block></block></block><block s="doIfElse"><block s="reportGreaterThan"><block var="angle"/><l>0</l></block><script><block s="doIfElse"><block s="reportGreaterThan"><block var="relativeX"/><l>0</l></block><script><block s="doReport"><block var="angle"/></block></script><script><block s="doReport"><block s="reportSum"><l>180</l><block var="angle"/></block></block></script></block></script><script><block s="doIfElse"><block s="reportLessThan"><block var="relativeX"/><l>0</l></block><script><block s="doReport"><block s="reportSum"><l>180</l><block var="angle"/></block></block></script><script><block s="doReport"><block s="reportSum"><l>360</l><block var="angle"/></block></block></script></block></script></block></script></block-definition><block-definition s="hasCrossPoint line %&apos;line&apos;" type="predicate" category="sensing"><header></header><code></code><translations>zh_CN:将和线段 _ 产生交点？&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>angle1</l><l>angle2</l><l>point</l><l>direction</l></list></block><block s="doSetVar"><l>point</l><block s="reportNewList"><list><block s="xPosition"></block><block s="yPosition"></block></list></block></block><block s="doSetVar"><l>angle1</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>1</l><block var="line"/></block></custom-block></block><block s="doSetVar"><l>angle2</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>2</l><block var="line"/></block></custom-block></block><block s="doSetVar"><l>direction</l><block s="reportModulus"><block s="reportSum"><block s="reportDifference"><l>90</l><block s="direction"></block></block><l>360</l></block><l>360</l></block></block><block s="doIfElse"><block s="reportGreaterThan"><block var="angle1"/><block var="angle2"/></block><script><block s="doIf"><block s="reportLessThan"><block s="reportDifference"><block var="angle1"/><block var="angle2"/></block><l>180</l></block><script><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><block var="direction"/><block var="angle1"/></block><block s="reportLessThan"><block var="direction"/><block var="angle2"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block><block s="doIf"><block s="reportGreaterThan"><block s="reportDifference"><block var="angle1"/><block var="angle2"/></block><l>180</l></block><script><block s="doIf"><block s="reportAnd"><block s="reportLessThan"><block var="direction"/><block var="angle1"/></block><block s="reportGreaterThan"><block var="direction"/><block var="angle2"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block></script><script><block s="doIf"><block s="reportLessThan"><block s="reportDifference"><block var="angle2"/><block var="angle1"/></block><l>180</l></block><script><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><block var="direction"/><block var="angle2"/></block><block s="reportLessThan"><block var="direction"/><block var="angle1"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block><block s="doIf"><block s="reportGreaterThan"><block s="reportDifference"><block var="angle2"/><block var="angle1"/></block><l>180</l></block><script><block s="doIf"><block s="reportAnd"><block s="reportLessThan"><block var="direction"/><block var="angle2"/></block><block s="reportGreaterThan"><block var="direction"/><block var="angle1"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block></script></block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block-definition><block-definition s="distanceToLine line %&apos;line&apos; crossPoint %&apos;crossPoint&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:到线段 _ 的距离，交点为 _&#xD;</translations><inputs><input type="%l"></input><input type="%upvar"></input></inputs><script><block s="doDeclareVariables"><list><l>angle1</l><l>angle2</l><l>includedAngle1</l><l>edgeLength</l><l>includedAngle2</l><l>angle3</l><l>angle4</l><l>point</l><l>vDistance</l><l>includeAngle3</l><l>distance</l><l>hypotenuse</l></list></block><block s="doIf"><block s="reportNot"><custom-block s="hasCrossPoint line %l"><block var="line"/></custom-block></block><script><block s="doSetVar"><l>crossPoint</l><block s="reportNewList"><list></list></block></block><block s="doReport"><l>9999</l></block></script></block><block s="doSetVar"><l>point</l><block s="reportNewList"><list><block s="xPosition"></block><block s="yPosition"></block></list></block></block><block s="doSetVar"><l>angle1</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>1</l><block var="line"/></block><block s="reportListItem"><l>2</l><block var="line"/></block></custom-block></block><block s="doSetVar"><l>angle2</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>1</l><block var="line"/></block><block var="point"/></custom-block></block><block s="doSetVar"><l>angle3</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>1</l><block var="line"/></block></custom-block></block><block s="doSetVar"><l>angle4</l><block s="reportModulus"><block s="reportSum"><block s="reportDifference"><l>90</l><block s="direction"></block></block><l>360</l></block><l>360</l></block></block><block s="doSetVar"><l>includedAngle1</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportDifference"><block var="angle2"/><block var="angle1"/></block></block></block><block s="doSetVar"><l>includedAngle2</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportDifference"><block var="angle3"/><block var="angle4"/></block></block></block><block s="doIf"><block s="reportGreaterThan"><block var="includedAngle1"/><l>180</l></block><script><block s="doSetVar"><l>includedAngle1</l><block s="reportDifference"><l>360</l><block var="includedAngle1"/></block></block></script></block><block s="doIf"><block s="reportGreaterThan"><block var="includedAngle2"/><l>180</l></block><script><block s="doSetVar"><l>includedAngle2</l><block s="reportDifference"><l>360</l><block var="includedAngle2"/></block></block></script></block><block s="doSetVar"><l>includeAngle3</l><block s="reportDifference"><l>180</l><block s="reportSum"><block var="includedAngle1"/><block var="includedAngle2"/></block></block></block><block s="doSetVar"><l>edgeLength</l><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportSum"><block s="reportProduct"><block s="reportDifference"><block s="reportListItem"><l>2</l><block var="point"/></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block></block><block s="reportDifference"><block s="reportListItem"><l>2</l><block var="point"/></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block></block></block><block s="reportProduct"><block s="reportDifference"><block s="reportListItem"><l>1</l><block var="point"/></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block></block><block s="reportDifference"><block s="reportListItem"><l>1</l><block var="point"/></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block></block></block></block></block></block><block s="doSetVar"><l>vDistance</l><block s="reportProduct"><block var="edgeLength"/><block s="reportMonadic"><l><option>sin</option></l><block var="includedAngle1"/></block></block></block><block s="doSetVar"><l>distance</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportQuotient"><block var="vDistance"/><block s="reportMonadic"><l><option>cos</option></l><block s="reportDifference"><l>90</l><block var="includeAngle3"/></block></block></block></block></block><block s="doSetVar"><l>hypotenuse</l><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportDifference"><block s="reportSum"><block s="reportProduct"><block var="distance"/><block var="distance"/></block><block s="reportProduct"><block var="edgeLength"/><block var="edgeLength"/></block></block><block s="reportProduct"><l>2</l><block s="reportProduct"><block s="reportProduct"><block var="edgeLength"/><block var="distance"/></block><block s="reportMonadic"><l><option>cos</option></l><block var="includedAngle2"/></block></block></block></block></block></block><block s="doSetVar"><l>crossPoint</l><block s="reportNewList"><list><block s="reportSum"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportProduct"><block var="hypotenuse"/><block s="reportMonadic"><l><option>cos</option></l><block var="angle1"/></block></block></block><block s="reportSum"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportProduct"><block var="hypotenuse"/><block s="reportMonadic"><l><option>sin</option></l><block var="angle1"/></block></block></block></list></block></block><block s="doReport"><block var="distance"/></block></script></block-definition><block-definition s="midpointOfLine %&apos;line&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:线段 _ 的中间点&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportNewList"><list><block s="reportQuotient"><block s="reportSum"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>2</l><block var="line"/></block></block></block><l>2</l></block><block s="reportQuotient"><block s="reportSum"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>2</l><block var="line"/></block></block></block><l>2</l></block></list></block></block></script></block-definition><block-definition s="crossPoint on line %&apos;line&apos; distance %&apos;distance&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:和线段 _ 的交点，距离为 _&#xD;</translations><inputs><input type="%l"></input><input type="%upvar"></input></inputs><script><block s="doSetVar"><l>distance</l><custom-block s="distanceToLine line %l crossPoint %upvar"><block var="line"/><l>crossPoint</l></custom-block></block><block s="doReport"><block var="crossPoint"/></block></script></block-definition><block-definition s="lineLength %&apos;line&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:线段长度 _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doIfElse"><block s="reportLessThan"><block s="reportListLength"><block var="line"/></block><l>2</l></block><script><block s="doReport"><l>-1</l></block></script><script><block s="doIfElse"><block s="reportIsA"><block s="reportListItem"><l>1</l><block var="line"/></block><l><option>number</option></l></block><script><block s="doReport"><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportSum"><block s="reportProduct"><block s="reportDifference"><block s="xPosition"></block><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportDifference"><block s="xPosition"></block><block s="reportListItem"><l>1</l><block var="line"/></block></block></block><block s="reportProduct"><block s="reportDifference"><block s="yPosition"></block><block s="reportListItem"><l>2</l><block var="line"/></block></block><block s="reportDifference"><block s="yPosition"></block><block s="reportListItem"><l>2</l><block var="line"/></block></block></block></block></block></block></script><script><block s="doReport"><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportSum"><block s="reportProduct"><block s="reportDifference"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>2</l><block var="line"/></block></block></block><block s="reportDifference"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>2</l><block var="line"/></block></block></block></block><block s="reportProduct"><block s="reportDifference"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>2</l><block var="line"/></block></block></block><block s="reportDifference"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>2</l><block var="line"/></block></block></block></block></block></block></block></script></block></script></block></script></block-definition><block-definition s="randomPoint of line %&apos;line&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:线段 _ 上的任意一点&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>direction</l><l>range</l></list></block><block s="doSetVar"><l>direction</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>1</l><block var="line"/></block><block s="reportListItem"><l>2</l><block var="line"/></block></custom-block></block><block s="doSetVar"><l>range</l><block s="reportRandom"><l>0</l><block s="reportDifference"><custom-block s="lineLength %l"><block var="line"/></custom-block><l>0.001</l></block></block></block><block s="doReport"><block s="reportNewList"><list><block s="reportSum"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportProduct"><block var="range"/><block s="reportMonadic"><l><option>cos</option></l><block var="direction"/></block></block></block><block s="reportSum"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line"/></block></block><block s="reportProduct"><block var="range"/><block s="reportMonadic"><l><option>sin</option></l><block var="direction"/></block></block></block></list></block></block></script></block-definition><block-definition s="translate angle %&apos;direction&apos;" type="reporter" category="sensing"><comment x="0" y="0" w="188" collapsed="false">translate angle to or from polar coordinates</comment><header></header><code></code><translations>zh_CN:角度转换 _&#xD;</translations><inputs><input type="%n">0</input></inputs><script><block s="doReport"><block s="reportModulus"><block s="reportSum"><block s="reportDifference"><l>90</l><block var="direction"/></block><l>360</l></block><l>360</l></block></block></script></block-definition><block-definition s="crossPoint of line1 %&apos;line1&apos; and line2 %&apos;line2&apos;" type="reporter" category="sensing"><header></header><code></code><translations>zh_CN:线段1 _ 和线段2 _ 的交点&#xD;</translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>angle1</l><l>angle2</l><l>includedAngle1</l><l>edgeLength</l><l>includedAngle2</l><l>angle3</l><l>angle4</l><l>point</l><l>vDistance</l><l>includeAngle3</l><l>distance</l><l>hypotenuse</l><l>crossPoint</l></list></block><block s="doIf"><block s="reportNot"><custom-block s="hasCrossPoint? line1 %l line2 %l"><block var="line1"/><block var="line2"/></custom-block></block><script><block s="doReport"><block s="reportNewList"><list></list></block></block></script></block><block s="doSetVar"><l>point</l><block s="reportListItem"><l>1</l><block var="line1"/></block></block><block s="doSetVar"><l>angle1</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>1</l><block var="line2"/></block><block s="reportListItem"><l>2</l><block var="line2"/></block></custom-block></block><block s="doSetVar"><l>angle2</l><custom-block s="calcAngle start %l end %l"><block s="reportListItem"><l>1</l><block var="line2"/></block><block var="point"/></custom-block></block><block s="doSetVar"><l>angle3</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>1</l><block var="line2"/></block></custom-block></block><block s="doSetVar"><l>angle4</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>2</l><block var="line1"/></block></custom-block></block><block s="doSetVar"><l>includedAngle1</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportDifference"><block var="angle2"/><block var="angle1"/></block></block></block><block s="doSetVar"><l>includedAngle2</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportDifference"><block var="angle3"/><block var="angle4"/></block></block></block><block s="doIf"><block s="reportGreaterThan"><block var="includedAngle1"/><l>180</l></block><script><block s="doSetVar"><l>includedAngle1</l><block s="reportDifference"><l>360</l><block var="includedAngle1"/></block></block></script></block><block s="doIf"><block s="reportGreaterThan"><block var="includedAngle2"/><l>180</l></block><script><block s="doSetVar"><l>includedAngle2</l><block s="reportDifference"><l>360</l><block var="includedAngle2"/></block></block></script></block><block s="doSetVar"><l>includeAngle3</l><block s="reportDifference"><l>180</l><block s="reportSum"><block var="includedAngle1"/><block var="includedAngle2"/></block></block></block><block s="doSetVar"><l>edgeLength</l><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportSum"><block s="reportProduct"><block s="reportDifference"><block s="reportListItem"><l>2</l><block var="point"/></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line2"/></block></block></block><block s="reportDifference"><block s="reportListItem"><l>2</l><block var="point"/></block><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line2"/></block></block></block></block><block s="reportProduct"><block s="reportDifference"><block s="reportListItem"><l>1</l><block var="point"/></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line2"/></block></block></block><block s="reportDifference"><block s="reportListItem"><l>1</l><block var="point"/></block><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line2"/></block></block></block></block></block></block></block><block s="doSetVar"><l>vDistance</l><block s="reportProduct"><block var="edgeLength"/><block s="reportMonadic"><l><option>sin</option></l><block var="includedAngle1"/></block></block></block><block s="doSetVar"><l>distance</l><block s="reportMonadic"><l><option>abs</option></l><block s="reportQuotient"><block var="vDistance"/><block s="reportMonadic"><l><option>cos</option></l><block s="reportDifference"><l>90</l><block var="includeAngle3"/></block></block></block></block></block><block s="doSetVar"><l>hypotenuse</l><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportDifference"><block s="reportSum"><block s="reportProduct"><block var="distance"/><block var="distance"/></block><block s="reportProduct"><block var="edgeLength"/><block var="edgeLength"/></block></block><block s="reportProduct"><l>2</l><block s="reportProduct"><block s="reportProduct"><block var="edgeLength"/><block var="distance"/></block><block s="reportMonadic"><l><option>cos</option></l><block var="includedAngle2"/></block></block></block></block></block></block><block s="doSetVar"><l>crossPoint</l><block s="reportNewList"><list><block s="reportSum"><block s="reportListItem"><l>1</l><block s="reportListItem"><l>1</l><block var="line2"/></block></block><block s="reportProduct"><block var="hypotenuse"/><block s="reportMonadic"><l><option>cos</option></l><block var="angle1"/></block></block></block><block s="reportSum"><block s="reportListItem"><l>2</l><block s="reportListItem"><l>1</l><block var="line2"/></block></block><block s="reportProduct"><block var="hypotenuse"/><block s="reportMonadic"><l><option>sin</option></l><block var="angle1"/></block></block></block></list></block></block><block s="doReport"><block var="crossPoint"/></block></script></block-definition><block-definition s="begin tracking" type="command" category="motion"><header></header><code></code><translations>zh_CN:开始跟踪&#xD;</translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>if (this.tracked) {&#xD;    return;&#xD;} else {&#xD;    this.tracked = true;&#xD;}&#xD;var myself = this;&#xD;this.tracks = new List();&#xD;this.backupSetPosition = this.setPosition;&#xD;this.setPosition = function (aPoint, justMe) {&#xD;    var len,lastX,lastY;&#xD;    len = myself.tracks.length();&#xD;    if (len == 0 &amp;&amp; myself.isDown) {&#xD;        myself.tracks.add(new List([myself.xPosition(),myself.yPosition()]));&#xD;    }                &#xD;    this.backupSetPosition(aPoint, justMe);   &#xD;    if (myself.isDown) {&#xD;        len = myself.tracks.length();&#xD;        lastX = myself.tracks.at(len).at(1);&#xD;        lastY = myself.tracks.at(len).at(2);&#xD;        if (lastX != myself.xPosition() || lastY != myself.yPosition()) {&#xD;            myself.tracks.add(new List([myself.xPosition(),myself.yPosition()]));&#xD;        }&#xD;    }&#xD;}</l></block><list></list></block></script></block-definition><block-definition s="my tracks" type="reporter" category="motion"><header></header><code></code><translations>zh_CN:我的轨迹&#xD;</translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return this.tracks;</l></block><list></list></block></block></script></block-definition><block-definition s="reset tracking" type="command" category="motion"><header></header><code></code><translations>zh_CN:重置轨迹&#xD;</translations><inputs></inputs><script><block s="doRun"><block s="reportJSFunction"><list></list><l>if (this.tracked) {&#xD;    this.tracks.clear();&#xD;    this.tracked = false;&#xD;    this.setPosition = this.backupSetPosition;&#xD;}</l></block><list></list></block></script></block-definition><block-definition s="hasCrossPoint? line1 %&apos;line1&apos; line2 %&apos;line2&apos;" type="predicate" category="sensing"><header></header><code></code><translations>zh_CN:线段1 _ 和线段2 _ 有交点？&#xD;</translations><inputs><input type="%l"></input><input type="%l"></input></inputs><script><block s="doDeclareVariables"><list><l>angle1</l><l>angle2</l><l>point</l><l>direction</l></list></block><block s="doSetVar"><l>point</l><block s="reportListItem"><l>1</l><block var="line1"/></block></block><block s="doSetVar"><l>angle1</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>1</l><block var="line2"/></block></custom-block></block><block s="doSetVar"><l>angle2</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>2</l><block var="line2"/></block></custom-block></block><block s="doSetVar"><l>direction</l><custom-block s="calcAngle start %l end %l"><block var="point"/><block s="reportListItem"><l>2</l><block var="line1"/></block></custom-block></block><block s="doIfElse"><block s="reportGreaterThan"><block var="angle1"/><block var="angle2"/></block><script><block s="doIf"><block s="reportLessThan"><block s="reportDifference"><block var="angle1"/><block var="angle2"/></block><l>180</l></block><script><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><block var="direction"/><block var="angle1"/></block><block s="reportLessThan"><block var="direction"/><block var="angle2"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block><block s="doIf"><block s="reportGreaterThan"><block s="reportDifference"><block var="angle1"/><block var="angle2"/></block><l>180</l></block><script><block s="doIf"><block s="reportAnd"><block s="reportLessThan"><block var="direction"/><block var="angle1"/></block><block s="reportGreaterThan"><block var="direction"/><block var="angle2"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block></script><script><block s="doIf"><block s="reportLessThan"><block s="reportDifference"><block var="angle2"/><block var="angle1"/></block><l>180</l></block><script><block s="doIf"><block s="reportOr"><block s="reportGreaterThan"><block var="direction"/><block var="angle2"/></block><block s="reportLessThan"><block var="direction"/><block var="angle1"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block><block s="doIf"><block s="reportGreaterThan"><block s="reportDifference"><block var="angle2"/><block var="angle1"/></block><l>180</l></block><script><block s="doIf"><block s="reportAnd"><block s="reportLessThan"><block var="direction"/><block var="angle2"/></block><block s="reportGreaterThan"><block var="direction"/><block var="angle1"/></block></block><script><block s="doReport"><block s="reportBoolean"><l><bool>false</bool></l></block></block></script></block></script></block></script></block><block s="doReport"><block s="reportBoolean"><l><bool>true</bool></l></block></block></script></block-definition><block-definition s="PI" type="reporter" category="operators"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list></list><l>return Math.PI;</l></block><list></list></block></block></script></block-definition><block-definition s="copy list %&apos;l&apos;" type="reporter" category="lists"><header></header><code></code><translations>zh_CN:复制列表 _&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><custom-block s="映射 %repRing 来源 %l"><block s="reifyScript"><script><block s="doReport"><l></l></block></script><list></list></block><block var="l"/></custom-block></block></script></block-definition><block-definition s="%&apos;data&apos; 为空?" type="predicate" category="lists"><header></header><code></code><translations>de:ist _ leer?&#xD;ca:_ buida?&#xD;es:_ vacía?&#xD;fr:_ vide?&#xD;</translations><inputs><input type="%l"></input></inputs><script><block s="doReport"><block s="reportEquals"><block var="data"/><block s="reportNewList"><list></list></block></block></block></script></block-definition><block-definition s="映射 %&apos;func&apos; 来源 %&apos;data&apos;" type="reporter" category="lists"><header></header><code></code><translations>de:wende _ an auf _&#xD;ca:mapeja _ sobre _&#xD;es:mapear _ sobre _&#xD;fr:appliquer _ à _&#xD;</translations><inputs><input type="%repRing"></input><input type="%l"></input></inputs><script><block s="doIf"><custom-block s="%l 为空?"><block var="data"/></custom-block><script><block s="doReport"><block var="data"/></block></script></block><block s="doReport"><block s="reportCONS"><block s="evaluate"><block var="func"/><list><block s="reportListItem"><l>1</l><block var="data"/></block></list></block><custom-block s="映射 %repRing 来源 %l"><block var="func"/><block s="reportCDR"><block var="data"/></block></custom-block></block></block></script></block-definition><block-definition s="arc %&apos;distance&apos; angle %&apos;angle&apos; direction %&apos;direction&apos; style %&apos;styleScript&apos;" type="command" category="motion"><header></header><code></code><translations>zh_CN:圆弧 _ 步 角度 _ 方向 _ 方式 _&#xD;</translations><inputs><input type="%n">50</input><input type="%n">30</input><input type="%txt">clockwise<options>clockwise&#xD;anticlockwise</options></input><input type="%cmdRing"></input></inputs><script><block s="doDeclareVariables"><list><l>r</l><l>segLength</l><l>dir</l><l>sections</l></list></block><block s="doIf"><custom-block s="Is %cmdRing empty?"><block var="styleScript"/></custom-block><script><block s="doSetVar"><l>styleScript</l><block s="reifyScript"><script><block s="forward"><l></l></block></script><list></list></block></block></script></block><block s="doSetVar"><l>dir</l><block s="direction"></block></block><block s="doSetVar"><l>sections</l><block s="reportRound"><block s="reportQuotient"><block var="distance"/><l>3</l></block></block></block><block s="doSetVar"><l>r</l><block s="reportQuotient"><block s="reportQuotient"><block var="distance"/><l>2</l></block><block s="reportMonadic"><l><option>sin</option></l><block s="reportQuotient"><block var="angle"/><l>2</l></block></block></block></block><block s="doSetVar"><l>segLength</l><block s="reportMonadic"><l><option>sqrt</option></l><block s="reportProduct"><block s="reportProduct"><block s="reportProduct"><block var="r"/><block var="r"/></block><l>2</l></block><block s="reportDifference"><l>1</l><block s="reportMonadic"><l><option>cos</option></l><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block></block></block></block></block><block s="doIfElse"><block s="reportEquals"><block var="direction"/><l>clockwise</l></block><script><block s="turnLeft"><block s="reportQuotient"><block s="reportDifference"><block var="angle"/><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block><l>2</l></block></block><block s="doRepeat"><block var="sections"/><script><block s="doRun"><block var="styleScript"/><list><block var="segLength"/></list></block><block s="turn"><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block></script></block></script><script><block s="turn"><block s="reportQuotient"><block s="reportDifference"><block var="angle"/><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block><l>2</l></block></block><block s="doRepeat"><block var="sections"/><script><block s="doRun"><block var="styleScript"/><list><block var="segLength"/></list></block><block s="turnLeft"><block s="reportQuotient"><block var="angle"/><block var="sections"/></block></block></script></block></script></block><block s="setHeading"><block var="dir"/></block></script></block-definition><block-definition s="Is %&apos;ring&apos; empty?" type="predicate" category="operators"><header></header><code></code><translations></translations><inputs><input type="%cmdRing"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>context</l></list><l>return context.expression instanceof Array;</l></block><list><block var="ring"/></list></block></block></script></block-definition></blocks>
